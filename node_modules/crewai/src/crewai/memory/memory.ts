class Memory {
    /**
     * Base class for memory, now supporting agent tags and generic metadata.
     */
    constructor(storage) {
        this.storage = storage;
    }

    save(value, metadata = null, agent = null) {
        metadata = metadata || {};
        if (agent) {
            metadata.agent = agent;
        }

        this.storage.save(value, metadata);
    }

    search(query) {
        return this.storage.search(query);
    }
}

export { Memory };